{"ast":null,"code":"var _jsxFileName = \"D:\\\\Expense-Tracker\\\\Smart_Study_Planner\\\\study-planner-Frontend\\\\src\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport './Dashboard.css';\nimport React, { useState, useEffect } from 'react';\n// import axios from 'axios';\nimport API from './services/api';\n\n// for adjusting the AI output Table\nimport ReactMarkdown from 'react-markdown';\nimport remarkGfm from 'remark-gfm';\n\n// SVG Icons Components\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PrintIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"currentColor\",\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 9\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 12,\n  columnNumber: 5\n}, this);\n_c = PrintIcon;\nconst CopyIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"currentColor\",\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 9\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 18,\n  columnNumber: 5\n}, this);\n_c2 = CopyIcon;\nfunction App() {\n  _s();\n  const [data, Dataset] = useState([]);\n  const [hours, setHours] = useState(() => {\n    // Get hours from localStorage if available, else undefined\n    const saved = localStorage.getItem('study_hours');\n    return saved !== null ? Number(saved) : '';\n  });\n\n  // Removed duplicate handleChat function\n\n  // boolean variable\n  const [lock, setLock] = useState(() => {\n    return localStorage.getItem('study_hours') !== null;\n  });\n  const [subject, setSubject] = useState(\"\");\n  const [examDate, setExamDate] = useState(new Date());\n  const [syllabus, setSyllabus] = useState(\"\");\n  const [level, setLevel] = useState(\"\");\n  const [comments, setComments] = useState(\"\");\n  const [showForm, setShowForm] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [showToast, setShowToast] = useState(false);\n\n  // For plan display\n  //! change in the aiplan \n  // ... existing state variables\n  const [aiLoading, setAiLoading] = useState(false);\n  const [aiPlan, setAiPlan] = useState(\"\");\n  // Add timeout warning state\n  const [timeoutWarning, setTimeoutWarning] = useState(false);\n  // ...\n  // const [aiPlan, setAiPlan] = useState(\"\"); \n  // Save hours to localStorage whenever it changes\n\n  // useEffect(() => {\n  //     if (hours !== '') {\n  //         localStorage.setItem('study_hours', hours);\n  //     }\n  // }, [hours]);\n\n  //! change code\n  useEffect(() => {\n    if (hours !== '' && /^\\d+$/.test(hours)) {\n      localStorage.setItem('study_hours', hours);\n    }\n  }, [hours]);\n  useEffect(() => {\n    API.get('/exam').then(response => {\n      console.log(\"Backend Response:\", response.data);\n      Dataset(response.data);\n    });\n  }, []);\n  const addSubject = async e => {\n    e.preventDefault(); // prevent form reload\n    setLoading(true);\n    try {\n      const response = await API.post('/exam', {\n        sub: subject,\n        date: examDate.toISOString(),\n        syllabus: syllabus,\n        DifficultyLevel: level,\n        comments: comments\n      });\n      console.log(\"âœ… Server response:\", response.data);\n      Dataset([...data, response.data.data]);\n\n      // Reset form fields\n      setSubject('');\n      setExamDate(new Date());\n      setSyllabus('');\n      setLevel('');\n      setComments('');\n\n      // Show toast\n      setShowToast(true);\n      setTimeout(() => setShowToast(false), 3000);\n\n      // Hide form after successful submission\n      setShowForm(false);\n    } catch (error) {\n      console.error(\"âŒ Upload failed:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const deleteSubject = id => {\n    API.delete(`/exam/${id}`).then(() => {\n      Dataset(data.filter(info => info._id !== id));\n    });\n  };\n  const showSubjectform = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"subject-form\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        children: /*#__PURE__*/_jsxDEV(\"fieldset\", {\n          children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n            children: \"Please Fill All Details (Required)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Subject Name:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: subject,\n              onChange: e => setSubject(e.target.value),\n              placeholder: \"Enter Subject Name\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Exam Date:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              value: examDate.toISOString().substring(0, 10),\n              onChange: e => setExamDate(new Date(e.target.value)),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Syllabus:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: syllabus,\n              onChange: e => setSyllabus(e.target.value),\n              placeholder: \"Enter the syllabus or topics that you want to cover\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Difficulty Level:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: level,\n              onChange: e => setLevel(e.target.value),\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select Level\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"easy\",\n                children: \"Easy\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"medium\",\n                children: \"Medium\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"hard\",\n                children: \"Hard\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Comments:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: comments,\n              onChange: e => setComments(e.target.value),\n              placeholder: \"Which chapters you feel are hard and which are important that you want to cover first\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"add-subject-button\",\n              onClick: addSubject,\n              disabled: loading,\n              children: loading ? /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"spinner\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 44\n              }, this) : \"Add Subject\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }, this);\n  };\n\n  // Creating prompt to call API with timeout warning\n  const handleChat = async () => {\n    setAiLoading(true); // Set loading to true\n    setAiPlan(\"\"); // Clear previous plan\n    setTimeoutWarning(false);\n    // Set a timeout to show warning if response is slow\n    const timeoutId = setTimeout(() => setTimeoutWarning(true), 10000);\n    try {\n      const res = await API.post('/chat', {\n        prompt: \"Create a table with [Date, Chapters, Tasks]\",\n        hours: hours\n      });\n      setAiPlan(res.data.output);\n    } catch (error) {\n      console.error(\"Error fetching AI plan:\", error);\n      setAiPlan(\"Failed to generate study plan.\");\n    } finally {\n      clearTimeout(timeoutId);\n      setAiLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"SMART STUDY PLANNER\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Let's plan together to crack exams\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"study-hours\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"study-hours-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Hours of Study per Day:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: hours,\n          placeholder: \"Enter hours of study\",\n          disabled: lock,\n          onChange: e => {\n            setHours(e.target.value);\n            setLock(true);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 21\n        }, this), lock && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"edit-hours-btn\",\n          onClick: () => {\n            localStorage.removeItem('study_hours');\n            setLock(false);\n          },\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"add-subject\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"plus-button\",\n        onClick: () => setShowForm(view => !view),\n        children: \"+\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Add Subject\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 13\n    }, this), showForm && showSubjectform(), data.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Stored Subjects\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"table-container\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Subject\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Exam Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Syllabus\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Difficulty Level\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Comments\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Action\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: data.map(info => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: info.sub\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: new Date(info.date).toISOString().split('T')[0]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"Syllabus Submitted\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  textTransform: 'capitalize'\n                },\n                children: info.DifficultyLevel\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: info.comments || 'No comments'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => deleteSubject(info._id),\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 273,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 41\n              }, this)]\n            }, info._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 37\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"generate-plan-container\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"generate-plan-btn\",\n        onClick: handleChat,\n        disabled: aiLoading // Disable button while loading\n        ,\n        children: aiLoading ? \"Generating...\" : \"Generate Smart Study Plan\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 13\n    }, this), aiLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ai-plan-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Generating your plan...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"This may take a moment. Please wait.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 17\n    }, this), aiPlan && !aiLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ai-plan-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Smart Study Plan\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: '16px',\n          marginBottom: '18px',\n          justifyContent: 'flex-end'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"plan-action-btn\",\n          onClick: () => {\n            const printWindow = window.open('', '', 'width=900,height=700');\n            printWindow.document.write('<html><head><title>Print Study Plan</title>');\n            printWindow.document.write('<link rel=\"stylesheet\" href=\"Dashboard.css\" />');\n            printWindow.document.write('</head><body >');\n            printWindow.document.write(`<h3>Smart Study Plan</h3>`);\n            printWindow.document.write(document.querySelector('.ai-plan-container').innerHTML);\n            printWindow.document.write('</body></html>');\n            printWindow.document.close();\n            printWindow.focus();\n            setTimeout(() => printWindow.print(), 500);\n          },\n          children: [/*#__PURE__*/_jsxDEV(PrintIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 29\n          }, this), \"Print\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"plan-action-btn\",\n          onClick: () => {\n            navigator.clipboard.writeText(aiPlan);\n            alert('Study plan copied to clipboard!');\n          },\n          children: [/*#__PURE__*/_jsxDEV(CopyIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 29\n          }, this), \"Copy\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(ReactMarkdown, {\n        remarkPlugins: [remarkGfm],\n        children: aiPlan\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\uD83D\\uDCF8 Take a screenshot of the above plan before leaving this page.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 17\n    }, this), showToast && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"toast\",\n      children: \"\\u2705 Subject added successfully!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 209,\n    columnNumber: 9\n  }, this);\n}\n_s(App, \"+XR5Kpfe+XCPt6I4Z8E67QRvGr0=\");\n_c3 = App;\nexport default App;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"PrintIcon\");\n$RefreshReg$(_c2, \"CopyIcon\");\n$RefreshReg$(_c3, \"App\");","map":{"version":3,"names":["React","useState","useEffect","API","ReactMarkdown","remarkGfm","jsxDEV","_jsxDEV","Fragment","_Fragment","PrintIcon","xmlns","viewBox","fill","children","d","fileName","_jsxFileName","lineNumber","columnNumber","_c","CopyIcon","_c2","App","_s","data","Dataset","hours","setHours","saved","localStorage","getItem","Number","lock","setLock","subject","setSubject","examDate","setExamDate","Date","syllabus","setSyllabus","level","setLevel","comments","setComments","showForm","setShowForm","loading","setLoading","showToast","setShowToast","aiLoading","setAiLoading","aiPlan","setAiPlan","timeoutWarning","setTimeoutWarning","test","setItem","get","then","response","console","log","addSubject","e","preventDefault","post","sub","date","toISOString","DifficultyLevel","setTimeout","error","deleteSubject","id","delete","filter","info","_id","showSubjectform","className","type","value","onChange","target","placeholder","required","substring","onClick","disabled","handleChat","timeoutId","res","prompt","output","clearTimeout","removeItem","view","length","map","split","style","textTransform","display","gap","marginBottom","justifyContent","printWindow","window","open","document","write","querySelector","innerHTML","close","focus","print","navigator","clipboard","writeText","alert","remarkPlugins","_c3","$RefreshReg$"],"sources":["D:/Expense-Tracker/Smart_Study_Planner/study-planner-Frontend/src/Dashboard.js"],"sourcesContent":["import './Dashboard.css'\nimport React, { useState, useEffect } from 'react';\n// import axios from 'axios';\nimport API from './services/api';\n\n// for adjusting the AI output Table\nimport ReactMarkdown from 'react-markdown';\nimport remarkGfm from 'remark-gfm';\n\n// SVG Icons Components\nconst PrintIcon = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n        <path d=\"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z\"/>\n    </svg>\n);\n\nconst CopyIcon = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n        <path d=\"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z\"/>\n    </svg>\n);\n\nfunction App() {\n\n    const [data, Dataset] = useState([]);\n\n    const [hours, setHours] = useState(() => {\n        // Get hours from localStorage if available, else undefined\n        const saved = localStorage.getItem('study_hours');\n        return saved !== null ? Number(saved) : '';\n    });\n\n    \n\n    // Removed duplicate handleChat function\n\n    // boolean variable\n    const [lock, setLock] = useState(() => {\n        return localStorage.getItem('study_hours') !== null;\n    });\n\n    const [subject, setSubject] = useState(\"\");\n    const [examDate, setExamDate] = useState(new Date());\n    const [syllabus, setSyllabus] = useState(\"\");\n    const [level, setLevel] = useState(\"\");\n    const [comments, setComments] = useState(\"\");\n\n    const [showForm, setShowForm] = useState(false);\n    const [loading, setLoading] = useState(false);\n    const [showToast, setShowToast] = useState(false);\n\n    // For plan display\n    //! change in the aiplan \n    // ... existing state variables\n    const [aiLoading, setAiLoading] = useState(false);\n    const [aiPlan, setAiPlan] = useState(\"\");\n    // Add timeout warning state\n    const [timeoutWarning, setTimeoutWarning] = useState(false);\n    // ...\n    // const [aiPlan, setAiPlan] = useState(\"\"); \n    // Save hours to localStorage whenever it changes\n    \n    // useEffect(() => {\n    //     if (hours !== '') {\n    //         localStorage.setItem('study_hours', hours);\n    //     }\n    // }, [hours]);\n\n    //! change code\n    useEffect(() => {\n    if (hours !== '' && /^\\d+$/.test(hours)) {\n        localStorage.setItem('study_hours', hours);\n    }\n}, [hours]);\n\n\n    useEffect(() => {\n        API.get('/exam').then((response) => {\n            console.log(\"Backend Response:\", response.data);\n            Dataset(response.data);\n        })\n    }, []);\n\n    const addSubject = async (e) => {\n\n        e.preventDefault(); // prevent form reload\n        setLoading(true);\n\n        try {\n            const response = await API.post('/exam', {\n                sub: subject,\n                date: examDate.toISOString(),\n                syllabus: syllabus,\n                DifficultyLevel: level,\n                comments: comments\n            });\n            console.log(\"âœ… Server response:\", response.data);\n\n            Dataset([...data, response.data.data]);\n\n            // Reset form fields\n            setSubject('');\n            setExamDate(new Date());\n            setSyllabus('');\n            setLevel('');\n            setComments('');\n\n            // Show toast\n            setShowToast(true);\n            setTimeout(() => setShowToast(false), 3000);\n\n            // Hide form after successful submission\n            setShowForm(false);\n\n        } catch (error) {\n            console.error(\"âŒ Upload failed:\", error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const deleteSubject = (id) => {\n        API.delete(`/exam/${id}`).then(() => {\n            Dataset(data.filter((info) => info._id !== id));\n        });\n    };\n\n    const showSubjectform = () => {\n        return (\n            <div className=\"subject-form\">\n                <form>\n                    <fieldset>\n                        <legend>Please Fill All Details (Required)</legend>\n                        <div className=\"form-container\">\n                            <label>Subject Name:</label>\n                            <input\n                                type='text'\n                                value={subject}\n                                onChange={(e) => setSubject(e.target.value)}\n                                placeholder='Enter Subject Name'\n                                required\n                            />\n\n                            <label>Exam Date:</label>\n                            <input\n                                type='date'\n                                value={examDate.toISOString().substring(0, 10)}\n                                onChange={(e) => setExamDate(new Date(e.target.value))}\n                                required\n                            />\n\n                            <label>Syllabus:</label>\n                            <textarea\n                                value={syllabus}\n                                onChange={(e) => setSyllabus(e.target.value)}\n                                placeholder='Enter the syllabus or topics that you want to cover'\n                                required\n                            ></textarea>\n\n                            <label>Difficulty Level:</label>\n                            <select value={level} onChange={(e) => setLevel(e.target.value)} required>\n                                <option value=''>Select Level</option>\n                                <option value='easy'>Easy</option>\n                                <option value='medium'>Medium</option>\n                                <option value='hard'>Hard</option>\n                            </select>\n\n                            <label>Comments:</label>\n                            <textarea\n                                value={comments}\n                                onChange={(e) => setComments(e.target.value)}\n                                placeholder='Which chapters you feel are hard and which are important that you want to cover first'\n                            ></textarea>\n\n                            <button className=\"add-subject-button\" onClick={addSubject} disabled={loading}>\n                                {loading ? <span className=\"spinner\"></span> : \"Add Subject\"}\n                            </button>\n\n                        </div>\n                    </fieldset>\n                </form>\n            </div>\n        )\n    }\n\n    // Creating prompt to call API with timeout warning\n    const handleChat = async () => {\n        setAiLoading(true); // Set loading to true\n        setAiPlan(\"\"); // Clear previous plan\n        setTimeoutWarning(false);\n        // Set a timeout to show warning if response is slow\n        const timeoutId = setTimeout(() => setTimeoutWarning(true), 10000);\n        try {\n            const res = await API.post('/chat', {\n                prompt: \"Create a table with [Date, Chapters, Tasks]\",\n                hours: hours\n            });\n            setAiPlan(res.data.output);\n        } catch (error) {\n            console.error(\"Error fetching AI plan:\", error);\n            setAiPlan(\"Failed to generate study plan.\");\n        } finally {\n            clearTimeout(timeoutId);\n            setAiLoading(false);\n        }\n    };\n\n    return (\n        <div className=\"main-container\">\n            <h1>SMART STUDY PLANNER</h1>\n            <h3>Let's plan together to crack exams</h3>\n\n            <div className=\"study-hours\">\n                <div className=\"study-hours-wrapper\">\n                    <label>Hours of Study per Day:</label>\n                    <input\n                        type='number'\n                        value={hours}\n                        placeholder='Enter hours of study'\n                        disabled={lock}\n                        onChange={(e) => {\n                            setHours(e.target.value);\n                            setLock(true);\n                        }}\n                    />\n                    {lock && (\n                        <button\n                            className=\"edit-hours-btn\"\n                            onClick={() => {\n                                localStorage.removeItem('study_hours');\n                                setLock(false);\n                            }}\n                        >\n                            Edit\n                        </button>\n                    )}\n                </div>\n            </div>\n\n            <div className=\"add-subject\">\n                <button className=\"plus-button\" onClick={() => setShowForm((view) => !view)}>\n                    +\n                </button>\n                <label>Add Subject</label>\n            </div>\n\n            {showForm && showSubjectform()}\n\n            {data.length > 0 && (\n                <>\n                    <h2>Stored Subjects</h2>\n                    <div className=\"table-container\">\n                        <table>\n                            <thead>\n                                <tr>\n                                    <th>Subject</th>\n                                    <th>Exam Date</th>\n                                    <th>Syllabus</th>\n                                    <th>Difficulty Level</th>\n                                    <th>Comments</th>\n                                    <th>Action</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {data.map((info) => (\n                                    <tr key={info._id}>\n                                        <td>{info.sub}</td>\n                                        <td>{new Date(info.date).toISOString().split('T')[0]}</td>\n                                        <td>Syllabus Submitted</td>\n                                        <td style={{ textTransform: 'capitalize' }}>{info.DifficultyLevel}</td>\n                                        <td>{info.comments || 'No comments'}</td>\n                                        <td>\n                                            <button onClick={() => deleteSubject(info._id)}>\n                                                Delete\n                                            </button>\n                                        </td>\n                                    </tr>\n                                ))}\n                            </tbody>\n                        </table>\n                    </div>\n                </>\n            )}\n\n            <div className=\"generate-plan-container\">\n                <button \n                    className=\"generate-plan-btn\" \n                    onClick={handleChat}\n                    disabled={aiLoading} // Disable button while loading\n                >\n                    {aiLoading ? \"Generating...\" : \"Generate Smart Study Plan\"}\n                </button>\n            </div>\n\n            {aiLoading && (\n                <div className=\"ai-plan-container\">\n                    <h3>Generating your plan...</h3>\n                    <p>This may take a moment. Please wait.</p>\n                </div>\n            )}\n\n            {/* Your existing aiPlan container, which will show after loading is complete */}\n            {aiPlan && !aiLoading && (\n                <div className=\"ai-plan-container\">\n                    <h3>Smart Study Plan</h3>\n                    {/* Print & Copy Buttons */}\n                    <div style={{ display: 'flex', gap: '16px', marginBottom: '18px', justifyContent: 'flex-end' }}>\n                        <button\n                            className=\"plan-action-btn\"\n                            onClick={() => {\n                                const printWindow = window.open('', '', 'width=900,height=700');\n                                printWindow.document.write('<html><head><title>Print Study Plan</title>');\n                                printWindow.document.write('<link rel=\"stylesheet\" href=\"Dashboard.css\" />');\n                                printWindow.document.write('</head><body >');\n                                printWindow.document.write(`<h3>Smart Study Plan</h3>`);\n                                printWindow.document.write(document.querySelector('.ai-plan-container').innerHTML);\n                                printWindow.document.write('</body></html>');\n                                printWindow.document.close();\n                                printWindow.focus();\n                                setTimeout(() => printWindow.print(), 500);\n                            }}\n                        >\n                            <PrintIcon />\n                            Print\n                        </button>\n                        <button\n                            className=\"plan-action-btn\"\n                            onClick={() => {\n                                navigator.clipboard.writeText(aiPlan);\n                                alert('Study plan copied to clipboard!');\n                            }}\n                        >\n                            <CopyIcon />\n                            Copy\n                        </button>\n                    </div>\n                    <ReactMarkdown remarkPlugins={[remarkGfm]}>{aiPlan}</ReactMarkdown>\n                    <p>ðŸ“¸ Take a screenshot of the above plan before leaving this page.</p>\n                </div>\n            )}\n\n            {showToast && (\n                <div className=\"toast\">âœ… Subject added successfully!</div>\n            )}\n        </div>\n    );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}